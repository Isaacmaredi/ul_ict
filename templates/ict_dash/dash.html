{% extends "base.html" %}
{%load static %}

{% block title %}
    Dashboard
{% endblock title %}



{% block content %}

  <!-- page content -->
   <!-- page content -->
   <div class="right_col" role="main">
    <div class="">

      <div class="row">
        <div class="col-md-6 col-sm-6  ">
          <canvas id="myChart" width="600" height="400"></canvas> 
        </div>

        <div class="col-md-6 col-sm-6  ">
          <div class="x_panel">
            
            
          </div>
        </div>  

      </div>

      <div class="row">
        <div class="col-md-6 col-sm-12">
          {%  for contract_name in contract_name_list %}
            <ul>
              <li> <strong>{{contract_name}} </strong></li>
            </ul>
            {% endfor %}

        </div>
        <div class="col-md-6 col-sm-12">
          {%  for contract_value in contract_value_list %}
            <ul>
              <li> <strong>{{contract_value}} </strong></li>
            </ul>
            {% endfor %}

        </div>

      </div>
      
       

        
          
          </div>
        </div>
      </div>
      <div class="clearfix"></div>
      <br />
    </div>
  </div>
  <!-- /page content -->
<!-- Chartjs Scripts-->

<script>
  // jquery function
  $(document).ready(function(){
          var ctx = document.getElementById('myChart').getContext('2d');
          var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                  labels: [{% for data in qs%}'{{data.name}}',{%endfor%}], //loop through queryset, 
                  datasets: [{
                      label: '# of users',
                      data: [{%for data in qs%}{{data.total_value}},{%endfor%}],
                      backgroundColor: [
                          'rgba(255, 99, 132, 0.2)', 
                          'rgba(54, 162, 235, 0.2)',
                          'rgba(255, 206, 86, 0.2)',
                          'rgba(75, 192, 192, 0.2)',
                          'rgba(153, 102, 255, 0.2)'
                          
                      ],
                      borderColor: [
                          'rgba(255, 99, 132, 1)',
                          'rgba(54, 162, 235, 1)',
                          'rgba(255, 206, 86, 1)',
                          'rgba(75, 192, 192, 1)',
                          'rgba(153, 102, 255, 1)'
                    
                      ],
                      borderWidth: 1
                  }]
              },
              options: {
                  scales: {
                      y: {
                          beginAtZero: true
                      }
                  }
              }
  });
      });
  </script>
  
{% endblock content %}






